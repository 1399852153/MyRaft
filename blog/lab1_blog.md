## 自己动手实现基于Raft的简易KV数据库(一) 实现leader选举
## 1. 一致性算法介绍
### 1.1 一致性同步与Paxos算法
* 对可靠性有很高要求的系统，通常都会额外部署1至多个机器为备用副本组成主备集群，避免出现单点故障。
  有状态的系统需要主节点与备用副本间以某种方式进行数据复制，这样主节点出现故障时就能快速的令备用机器接管系统以达到高可用的目的。
* 常见的主备复制方式是异步、弱一致性的，例如DNS系统，mysql、redis(7.0之前)等数据库的主备复制，或者通过某种消息中间件来进行解耦，即在CAP中选择了AP。  
  弱一致性的AP相比强一致CP的复制有着许多优点：**效率高**(多个单次操作可以批量处理)，**耦合性低**(备份节点挂了也不影响主节点工作)，实现相对简单。  
  但AP复制最大的缺点就是**丧失了强一致性**，主节点在操作完成响应客户端后，但还未成功同步到备份节点前宕机，对应变更将会丢失，因此AP的方案不适用于对一致性有苛刻要求的场合。
* 原始的强一致性主备同步，即主节点在每一个备份节点同步完成后才能响应客户端成功的方案效率太低，可用性太差(任意一个备份节点故障就会使得集群不可用)。  
  因此基于多数派的分布式强一致算法被发明了出来，其中最有名的便是**Paxos**算法。但Paxos算法过于复杂，在分布式环境下有大量的case需要得到正确的实现，因此时至今日也没有多少系统真正的将Paxos落地。  
### 1.2 raft算法
* 由于Paxos过于复杂的原因，Raft算法被发明了出来。Raft算法在设计时大量参考了Paxos，也是一个基于日志和多数派的一致性算法，但在很多细节上相比Paxos做了许多简化。 
* 因为Raft比Paxos要简单很多，更容易被开发人员理解并最终用于构建实际的系统，因此目前很多流行的强一致分布式系统都是基于Raft算法的(比如etcd)。  
#####
[raft的论文](https://pdos.csail.mit.edu/6.824/papers/raft-extended.pdf) 中将raft算法的功能分解为4个模块：
1. leader选举
2. 日志复制
3. 快照和日志压缩
4. 集群成员动态变更
#####
其中前两项“leader选举”和“日志复制”是raft算法的基础，而后两项“日志压缩”和“集群成员动态变更”属于raft算法在功能上重要的拓展优化。

## 2. 自己动手实现一个简易的基于Raft的KV数据库(MyRaft)

## 3. leader选举原理与实现解析
## 总结